<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale = 1.0,maximum-scale = 1.0" />
    <title>ChronosFiles - {% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="{{ asset('build/css/semantic-ui.css') }}">
    <link rel="stylesheet" href="{{ asset('build/css/app.css') }}">
    {% block stylesheets %}{% endblock %}
</head>
<body>
    {% set route = app.request.attributes.get('_route') %}

    <div class="ui menu stackable">
        <div class="ui container">
            <div class="header item">
                ChronosFiles
            </div>
            <a class="item {% if route == 'index' %} active {% endif %}" href="{{ path('index') }}">
                <i class="home icon"></i>
                Home
            </a>
            {% if app.user %}
            <a class="item {% if route starts with 'files' %} active {% endif %}" href="{{ path('files') }}">
                <i class="file icon"></i>
                Files
            </a>
            <a class="item {% if route starts with 'categories' or route starts with 'category' %} active {% endif %}" href="{{ path('categories') }}">
                <i class="folder icon"></i>
                Categories
            </a>
            <a class="item {% if route == 'upload' %} active {% endif %}" href="{{ path('upload') }}">
                <i class="upload icon"></i>
                Upload
            </a>
            <div class="right menu">
                <a class="item" href="{{ path('logout') }}">
                    <i class="sign out alternate icon"></i>
                    Logout
                </a>
            </div>
            {% else %}
            <div class="right menu">
                <a class="item {% if route == 'register' %} active {% endif %}" href="{{ path('register') }}">
                    <i class="user plus icon"></i>
                    Register
                </a>
                <a class="item {% if route == 'login' %} active {% endif %}" href="{{ path('login') }}">
                    <i class="sign in alternate icon"></i>
                    Login
                </a>
            </div>
            {% endif %}
        </div>
    </div>

    <div class="ui main container">
        {% block body %}{% endblock %}
    </div>

    <footer>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" charset="utf-8"></script>
        <script src="{{ asset('build/js/semantic-ui.js') }}"></script>
        <script src="{{ asset('build/js/app.js') }}"></script>
        {% block javascript %}{% endblock %}
    </footer>
</body>
</html>
